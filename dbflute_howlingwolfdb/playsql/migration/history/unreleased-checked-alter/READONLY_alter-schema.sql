CREATE TABLE BLACKLIST_PLAYER
(
	BLACKLIST_PLAYER_ID INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'ブラックリストプレイヤーID',
	FROM_PLAYER_ID INT UNSIGNED NOT NULL COMMENT 'プレイヤーID',
	TO_PLAYER_ID INT UNSIGNED NOT NULL COMMENT 'ブラックリスト対象プレイヤーID',
	REGISTER_DATETIME DATETIME NOT NULL COMMENT '登録日時',
	REGISTER_TRACE VARCHAR(64) NOT NULL COMMENT '登録トレース',
	UPDATE_DATETIME DATETIME NOT NULL COMMENT '更新日時',
	UPDATE_TRACE VARCHAR(64) NOT NULL COMMENT '更新トレース',
	PRIMARY KEY (BLACKLIST_PLAYER_ID),
	CONSTRAINT UQ_blacklist_player UNIQUE (FROM_PLAYER_ID, TO_PLAYER_ID)
) COMMENT = 'ブラックリストプレイヤー';

ALTER TABLE BLACKLIST_PLAYER
	ADD CONSTRAINT FK_BLACKLIST_PLAYER_PLAYER FOREIGN KEY (FROM_PLAYER_ID)
	REFERENCES PLAYER (PLAYER_ID)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE BLACKLIST_PLAYER
	ADD CONSTRAINT FK_BLACKLIST_TO_PLAYER_PLAYER FOREIGN KEY (TO_PLAYER_ID)
	REFERENCES PLAYER (PLAYER_ID)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;
